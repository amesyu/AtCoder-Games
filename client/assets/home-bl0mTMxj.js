import{w as L}from"./with-props-DvPqDDfd.js";import{r as y,l as u}from"./chunk-IR6S3I6Y-BvsIcvZg.js";function $(){const g=y.useRef(null),[b,m]=y.useState(null),[M,j]=y.useState([]),[C,T]=y.useState("O"),[N,P]=y.useState(null),[E,W]=y.useState(!1),[R,h]=y.useState("ゲーム開始");y.useEffect(()=>{if(g.current){const l=g.current.getContext("2d");m(l);const n=[];for(let e=0;e<3;e++){n[e]=[];for(let t=0;t<3;t++)n[e][t]=""}j(n)}},[]),y.useEffect(()=>{b&&p()},[M,b]);const p=()=>{if(!b||!g.current)return;const l=300,n=300;g.current.width=l,g.current.height=n,b.clearRect(0,0,l,n);const e=3,t=l/e;for(let r=0;r<e;r++)for(let s=0;s<e;s++){const i=s*t,c=r*t;b.strokeStyle="black",b.lineWidth=2,b.strokeRect(i,c,t,t),M[r][s]==="O"?(b.fillStyle="red",b.beginPath(),b.arc(i+t/2,c+t/2,t/3,0,2*Math.PI),b.fill()):M[r][s]==="X"&&(b.fillStyle="blue",b.beginPath(),b.arc(i+t/2,c+t/2,t/3,0,2*Math.PI),b.fill())}},k=l=>{if(!b||N||E)return;const n=g.current;if(!n)return;const e=n.getBoundingClientRect(),t=l.clientX-e.left,r=l.clientY-e.top,s=Math.floor(r/(n.height/3)),i=Math.floor(t/(n.width/3));if(M[s][i]===""){const c=[...M];c[s][i]=C,j(c),v(c)==null&&!E&&f(c)}},v=l=>{const n=[[[0,0],[0,1],[0,2]],[[1,0],[1,1],[1,2]],[[2,0],[2,1],[2,2]],[[0,0],[1,0],[2,0]],[[0,1],[1,1],[2,1]],[[0,2],[1,2],[2,2]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]];for(let e of n){const[t,r,s]=e;if(l[t[0]][t[1]]&&l[t[0]][t[1]]===l[r[0]][r[1]]&&l[t[0]][t[1]]===l[s[0]][s[1]])return P(l[t[0]][t[1]]),h(l[t[0]][t[1]]+"の勝ち！"),l[t[0]][t[1]]}l.flat().every(e=>e!=="")&&(W(!0),h("引き分け！"))},f=l=>{const n=d(l);if(n){const e=[...l];e[n.i][n.j]="X",j(e),p(),v(e)}},d=l=>{const n=[];for(let e=0;e<3;e++)for(let t=0;t<3;t++)l[e][t]===""&&n.push({i:e,j:t});if(n.length>0){const e=Math.floor(Math.random()*n.length);return n[e]}return null},o=()=>{const l=[];for(let n=0;n<3;n++){l[n]=[];for(let e=0;e<3;e++)l[n][e]=""}j(l),T("O"),P(null),W(!1),h("ゲーム開始")};return u.jsxs("div",{className:"game-container",children:[u.jsx("canvas",{ref:g,onClick:k}),u.jsx("div",{className:"button-container",children:u.jsx("button",{onClick:o,children:"リセット"})}),u.jsx("p",{children:R})]})}const a=9,G=50;function Z(){const[g,b]=y.useState(Array(a*a).fill(0).map(()=>Math.random()>.5?2:0)),[m,M]=y.useState("Game in Progress"),j=y.useRef(null),[C,T]=y.useState(null);y.useEffect(()=>{j.current&&T(j.current.getContext("2d"))},[]),y.useEffect(()=>{C&&N()},[g,C]);function N(){C&&(C.clearRect(0,0,a*G,a*G),g.forEach((R,h)=>{const p=h%a*G,k=Math.floor(h/a)*G;C.fillStyle=R===0?"white":R===1?"black":"gray",C.fillRect(p,k,G,G),C.strokeRect(p,k,G,G)}))}function P(R){var d;if(!C||m!=="Game in Progress")return;const h=[...g],p=(d=j.current)==null?void 0:d.getBoundingClientRect();if(!p)return;let k=Math.floor((R.clientY-p.top)/G),v=Math.floor((R.clientX-p.left)/G),f=k*a+v;if(h[f]===0){h[f]=1;for(let o=k+1;o<a;o++){let l=o*a+v;if(h[l]!==1)h[l]=1;else break}for(let o=k-1;o>=0;o--){let l=o*a+v;if(h[l]!==1)h[l]=1;else break}for(let o=v+1;o<a;o++){let l=k*a+o;if(h[l]!==1)h[l]=1;else break}for(let o=v-1;o>=0;o--){let l=k*a+o;if(h[l]!==1)h[l]=1;else break}if(E(h)){console.log("You Win!"),M("You Win!"),b(h);return}if(f=W(h),k=Math.floor(f/a),v=f%a,h[f]===0){h[f]=1;for(let o=k+1;o<a;o++){let l=o*a+v;if(h[l]!==1)h[l]=1;else break}for(let o=k-1;o>=0;o--){let l=o*a+v;if(h[l]!==1)h[l]=1;else break}for(let o=v+1;o<a;o++){let l=k*a+o;if(h[l]!==1)h[l]=1;else break}for(let o=v-1;o>=0;o--){let l=k*a+o;if(h[l]!==1)h[l]=1;else break}if(E(h)){console.log("You Lose!"),M("You Lose!"),b(h);return}b(h)}}}function E(R){return R.every(h=>h!==0)}function W(R){let h=[],p=[];for(let f=0;f<=a;f++){p[f]=[];for(let d=0;d<=a;d++){p[f][d]=[];for(let o=0;o<=a;o++){p[f][d][o]=[];for(let l=0;l<=a;l++)p[f][d][o][l]=0}}}function k(f){let d=new Array(f).fill(!1);for(let o=0;o<f;o++)h[o]<f&&(d[h[o]]=!0);for(let o=0;o<f;o++)if(!d[o])return o;return f}for(let f=a-1;f>=0;f--)for(let d=f+1;d<=a;d++)for(let o=a-1;o>=0;o--)for(let l=o+1;l<=a;l++){let n=0;for(let e=f;e<d;e++)for(let t=o;t<l;t++)if(R[e*a+t]!==2){let r=p[f][e][o][t]^p[e+1][d][o][t]^p[f][e][t+1][l]^p[e+1][d][t+1][l];h[n++]=r}p[f][d][o][l]=k(n)}function v(f){let d=R.map(e=>e===1?0:1);d[f]=0;const o=Math.floor(f/a),l=f%a;for(let e=o+1;e<a&&d[e*a+l]===1;e++)d[e*a+l]=0;for(let e=o-1;e>=0&&d[e*a+l]===1;e--)d[e*a+l]=0;for(let e=l+1;e<a&&d[o*a+e]===1;e++)d[o*a+e]=0;for(let e=l-1;e>=0&&d[o*a+e]===1;e--)d[o*a+e]=0;let n=0;for(let e=0;e<a;e++)for(let t=0;t<a;t++)if(d[e*a+t]===1){let r=e,s=t;for(;r<a&&d[r*a+s]===1;)r++;for(r--;s<a&&d[r*a+s]===1;)s++;r++;for(let i=e;i<r;i++)for(let c=t;c<s;c++)d[i*a+c]=0;n^=p[e][r][t][s]}return n}for(let f=0;f<a*a;f++)if(R[f]===0&&v(f)===0)return f;console.log("Fail to Find Grundy == 0");for(let f=0;f<a*a;f++)if(R[f]===0)return f;return-1}return u.jsxs("div",{children:[u.jsx("h2",{children:m}),u.jsx("canvas",{ref:j,width:a*G,height:a*G,onClick:P})]})}const D=()=>{console.log("enable");const[g,b]=y.useState(4),[m,M]=y.useState(5),[j,C]=y.useState(null),[T,N]=y.useState({y:0,x:0}),[P,E]=y.useState(0),[W,R]=y.useState(""),h=y.useCallback((l,n)=>{const e=[];for(let t=0;t<l;t++){const r=[];for(let s=0;s<n;s++)r.push(Math.random()<.6?".":"#");e.push(r)}return e},[]),p=y.useCallback(l=>{const n=[],e=[{y:0,x:1},{y:1,x:0},{y:1,x:1}];for(const t of e){const r=l.y+t.y,s=l.x+t.x;r<0||g<=r||s<0||m<=s||!j||j[r][s]==="#"||n.push({y:r,x:s})}return n},[g,m,j]),k=y.useCallback(async l=>{await new Promise(i=>setTimeout(i,800));const n=Array(g).fill(null).map(()=>Array(m).fill(!1));for(let i=g-1;i>=0;i--)for(let c=m-1;c>=0;c--){if(j&&j[i][c]==="#")continue;let w=!1;i+1<g&&j&&j[i+1][c]==="."&&(n[i+1][c]||(w=!0)),c+1<m&&j&&j[i][c+1]==="."&&(n[i][c+1]||(w=!0)),i+1<g&&c+1<m&&j&&j[i+1][c+1]==="."&&(n[i+1][c+1]||(w=!0)),n[i][c]=w}if(!n[l.y][l.x])return{win:!1,path:[]};let e=[],t=0,r=l.y,s=l.x;for(e.push({y:r,x:s});;){const i=p({y:r,x:s});if(i.length===0)break;let c;if(t===0)for(const w of i){const _=w.y,X=w.x;if(!n[_][X]){c=w;break}}else c=i[0];if(c)r=c.y,s=c.x,e.push({y:r,x:s}),t=1-t;else break}return{win:!0,path:e}},[g,m,j]),v=y.useCallback(async()=>{if(!j)return;if(p(T).length===0){R("${winner}$ Win!");return}if(P===1){const n=await k(T);let e;if(n.win)e=n.path[0];else{const t=p(T);e=t[Math.floor(Math.random()*t.length)]}N(e),E(0),setTimeout(v,0)}},[j,p,T,P,k]),f=y.useCallback(()=>{if(isNaN(g)||isNaN(m)||g<=0||m<=0){alert("HとWに正の整数を入力してください");return}if(100<g||100<m){alert("HとWはそれぞれ100以下にしてください");return}C(h(g,m)),N({y:0,x:0}),E(0),R(""),v()},[g,m,h,v]),d=y.useCallback((l,n)=>{if(P!==0||!j)return;const t=p(T).find(r=>r.y===l&&r.x===n);t?(N(t),E(1),v()):alert("そこには移動できません")},[j,T,P,p,v]),o=y.useCallback((l,n)=>P!==0?!1:!!p(T).find(t=>t.y===l&&t.x===n),[T,P,p]);return u.jsxs("div",{children:[u.jsx("h1",{children:"GridMoving"}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"HeightInput",children:"高さ (H):"}),u.jsx("input",{type:"number",id:"HeightInput",value:g,onChange:l=>b(parseInt(l.target.value))}),u.jsx("label",{htmlFor:"WidthInput",children:"幅 (W):"}),u.jsx("input",{type:"number",id:"WidthInput",value:m,onChange:l=>M(parseInt(l.target.value))}),u.jsx("button",{onClick:f,children:"Generate"})]}),u.jsx("div",{id:"board",children:j&&u.jsx("table",{className:"board-table",children:u.jsx("tbody",{children:j.map((l,n)=>u.jsx("tr",{children:l.map((e,t)=>u.jsx("td",{className:`cell ${n===T.y&&t===T.x?"piece":""} ${o(n,t)?"candidate":""}`,onClick:()=>d(n,t),children:e},t))},n))})})}),u.jsx("div",{id:"result",children:W})]})},F=({titleName:g,githubLink:b})=>u.jsxs("header",{className:"header",children:[u.jsx("div",{className:"header-left",children:u.jsx("h1",{className:"header-title",children:g})}),u.jsx("div",{className:"header-right",children:u.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",children:u.jsx("svg",{className:"header-github-icon",viewBox:"0 0 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:u.jsx("path",{d:"M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"})})})})]}),K=({tabs:g})=>{const[b,m]=y.useState(g[0]);return u.jsxs("div",{className:"tabs-container",children:[u.jsx("div",{className:"tabs-buttons",children:g.map(M=>u.jsx("button",{onClick:()=>m(M),className:b===M?"active":"",children:M.name},M.name))}),u.jsx("div",{className:"tabs-content",children:b.contents})]})},S=16,x=40,A=S*x;let I=0,Y=0;const H=[[[0,0],[1,0],[0,1],[1,1]],[[0,0],[1,0],[2,0],[3,0]],[[0,0],[0,1],[0,2],[0,3]],[[0,0],[1,0],[1,1],[2,1]],[[0,0],[0,1],[-1,1],[-1,2]],[[0,0],[1,0],[-1,1],[0,1]],[[0,0],[0,1],[1,1],[1,2]],[[0,0],[0,1],[1,1],[2,1]],[[0,0],[0,1],[0,2],[-1,2]],[[0,0],[1,0],[2,0],[2,1]],[[0,0],[1,0],[0,1],[0,2]],[[0,0],[0,1],[0,2],[1,2]],[[0,0],[0,1],[-1,1],[-2,1]],[[0,0],[1,0],[1,1],[1,2]],[[0,0],[0,1],[1,0],[2,0]],[[0,0],[1,0],[2,0],[1,1]],[[0,0],[0,1],[0,2],[1,1]],[[0,0],[-1,1],[0,1],[1,1]],[[0,0],[0,1],[-1,1],[0,2]]];function O(){const g=y.useRef(null),b=Array.from({length:S},()=>Array(S).fill(!1));let m=[];const M=Array.from({length:S},()=>Array(S).fill("")),j=Array.from({length:S},()=>Array(S).fill(""));let C=[];const[T,N]=y.useState(0);y.useEffect(()=>{const n=g.current;if(!n)return;const e=n.getContext("2d");if(e){n.width=A,n.height=A,e.clearRect(0,0,A,A),P(e),p(e);for(let t=0;t<m.length;t++){let r=h();for(let s=0;s<4;s++){let i=m[t][s][0],c=m[t][s][1];M[i][c]=r[s],e.fillStyle="white",e.font=`${x*.6}px Arial`,e.fillText(r[s],i*x+x*.1,c*x+x*.75)}}return n.addEventListener("click",l),()=>{n.removeEventListener("click",l)}}},[]);const P=n=>{n.strokeStyle="white",n.lineWidth=1;for(let e=0;e<=S;e++)n.beginPath(),n.moveTo(e*x,0),n.lineTo(e*x,A),n.stroke(),n.beginPath(),n.moveTo(0,e*x),n.lineTo(A,e*x),n.stroke();for(let e=0;e<S;e++)for(let t=0;t<S;t++)n.strokeStyle="white",n.fillRect(e*x,t*x,x,x)},E=()=>{for(;;){const n=Math.floor(Math.random()*S*S),e=Math.floor(n/S),t=n%S;if(!b[e][t])return{x:e,y:t}}},W=()=>H[Math.floor(Math.random()*H.length)],R=(n,e,t)=>t.every(([r,s])=>{const i=n+r,c=e+s;return i>=0&&i<S&&c>=0&&c<S&&!b[i][c]}),h=()=>{const n=["こ","ん","な","ん"];for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n.join("")},p=n=>{for(I=0;;){const{x:e,y:t}=E(),r=W();if(R(e,t,r))m.push([]),r.forEach(([s,i])=>{const c=e+s,w=t+i;b[c][w]=!0,I++,m[m.length-1].push([c,w])});else{if(I++,I==2e3)break;continue}}for(let e=0;e<S;e++)for(let t=0;t<S;t++)b[e][t]||k(n,e,t)},k=(n,e,t)=>{n.fillStyle="white",n.fillRect(e*x,t*x,x,x)},v=(n,e,t)=>{let r=["rgba(255, 0, 0, 0.3)","rgba(0, 0, 255, 0.3)","rgba(0, 255, 0, 0.3)","rgba(255, 255, 0, 0.3)","rgba(255, 165, 0, 0.3)","rgba(128, 0, 128, 0.3)","rgba(255, 192, 203, 0.3)"],s=r[Math.floor(Math.random()*r.length)];C.length%4!=0&&(s=j[C[C.length-1][0]][C[C.length-1][1]]),n.fillStyle=s,n.fillRect(e*x,t*x,x,x),j[e][t]=s,C.push([e,t])},f=()=>{let n=["rgba(255, 0, 0, 0.3)","rgba(0, 0, 255, 0.3)","rgba(0, 255, 0, 0.3)","rgba(255, 255, 0, 0.3)","rgba(255, 165, 0, 0.3)","rgba(128, 0, 128, 0.3)","rgba(255, 192, 203, 0.3)"];const e=g.current;if(!e)return;const t=e.getContext("2d");if(t){for(let r=0;r<m.length;r++){let s=n[Math.floor(Math.random()*n.length)];for(let i=0;i<4;i++){let c=m[r][i][0],w=m[r][i][1];t.fillStyle=s,Y==0?t.strokeStyle=s:t.strokeStyle="rgba(0,0,0, 1)",t.lineWidth=2,t.fillRect(c*x,w*x,x,x)}}if(Y==1){t&&(t.clearRect(0,0,A,A),t.fillStyle="black",t.fillRect(0,0,A,A)),P(t);for(let r=0;r<m.length;r++)for(let s=0;s<4;s++){let i=m[r][s][0],c=m[r][s][1],w=M[i][c];t.fillStyle="white",t.font=`${x*.6}px Arial`,t.fillText(w,i*x+x*.1,c*x+x*.75)}for(let r=0;r<S;r++)for(let s=0;s<S;s++)b[r][s]||k(t,r,s),j[r][s]=""}Y=1-Y}},d=(n,e,t,r)=>Math.abs(n-t)+Math.abs(e-r),o=()=>{let n=0;const e=g.current;if(!e)return;const t=e.getContext("2d");if(t){for(let r=0;r<C.length;r+=4){let s=[],i=[];for(let w=0;w<4&&!(r+w>=C.length);w++)s.push(C[r+w]),i.push(M[C[r+w][0]][C[r+w][1]]);if(i.sort(),i[0]!="こ"||i[1]!="な"||i[2]!="ん"||i[3]!="ん")continue;let c=0;for(let w=0;w<4;w++)for(let _=w+1;_<4;_++)d(s[w][0],s[w][1],s[_][0],s[_][1])==1&&c++;c<3||n++}N(n),t&&(t.clearRect(0,0,A,A),t.fillStyle="black",t.fillRect(0,0,A,A)),P(t);for(let r=0;r<m.length;r++)for(let s=0;s<4;s++){let i=m[r][s][0],c=m[r][s][1],w=M[i][c];t.fillStyle="white",t.font=`${x*.6}px Arial`,t.fillText(w,i*x+x*.1,c*x+x*.75)}for(let r=0;r<S;r++)for(let s=0;s<S;s++)b[r][s]||k(t,r,s),j[r][s]=""}},l=n=>{const e=g.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const r=e.getBoundingClientRect(),s=Math.floor((n.clientX-r.left)/x),i=Math.floor((n.clientY-r.top)/x);j[s][i]==""&&v(t,s,i)};return u.jsxs("div",{children:[u.jsx("canvas",{ref:g}),u.jsx("button",{onClick:f,children:"answer"}),u.jsx("br",{}),u.jsx("button",{onClick:o,children:"submit"}),u.jsx("p",{children:T})]})}function B({}){return[{title:"AtCoder-Games"},{name:"description",content:"AtCoDeer"}]}const V=L(function(){return u.jsxs("div",{children:[u.jsx(F,{titleName:"AtCoder Games",githubLink:"https://github.com/amesyu/AtCoder-Games"}),u.jsx(K,{tabs:[{name:"Tic Tac Toe",contents:u.jsx($,{})},{name:"Grid Nim",contents:u.jsx(Z,{})},{name:"Grid Moving",contents:u.jsx(D,{})},{name:"Konnan",contents:u.jsx(O,{})}]})]})});export{V as default,B as meta};
